const ChildChain = require('../src')
const assert = require('chai').assert

const childChain = new ChildChain('watcher_url', 'childChain_url')

describe('sendTransaction', () => {
  it('should sign the entire transaction object correctly', () => {
    const privateKey = '0x2cc1636720fda6cc925b2594440cbb6fa75b6df818db8a795b0119bf37984233'
    const unsignedTx = 'F85283C2F629808080808094000000000000000000000000000000000000000094736FA62ADC040E4FDABFADF87E74CE0197304FAD880DE0B6B3A764000094000000000000000000000000000000000000000080'
    const signedTx = childChain.signTransaction(unsignedTx, privateKey)
    const expected = 'F8D883C2F629808080808094000000000000000000000000000000000000000094736FA62ADC040E4FDABFADF87E74CE0197304FAD880DE0B6B3A764000094000000000000000000000000000000000000000080B8414F7BD9407C6B66A76E2217CD2C2C89E1923E8C1CF369D194C8B6F052B5F9DDBC1C642FC8310F29EAAE111F07FC825DAB835F99A726365AC2F1A6D79DDB5277181BB8410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'
    assert.equal(signedTx, expected)
  })
})
